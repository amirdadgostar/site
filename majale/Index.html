<!DOCTYPE html> 
<html lang="fa" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>پنل کاربری محققین</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="toast-container"></div>
    <div id="alert-container"></div>
    
    <!-- Login Page -->
    <div id="login-page">
        <div class="login-wrapper">
            <div class="login-box fade-in">
                <div class="login-header-strip"></div>
                <div class="login-content">
                    <div class="login-logo-area">
                        <i class="fas fa-university fa-3x" style="color: var(--primary);"></i>
                    </div>
                    <h3 style="margin-top: 15px; color: var(--text-muted); font-size: 1rem; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px;">موسسه تعالی اندیشه و رشد</h3>
                    <h2 style="color: var(--primary-dark);">پنل محققان نشریه</h2>
                    <p class="login-subtitle">سامانه جامع مدیریت مقالات و تحقیقات علمی</p>
                    <form id="login-form">
                        <div class="form-group">
                            <label for="national-id"><i class="fas fa-user-shield"></i> نام کاربری</label>
                            <input type="text" id="national-id" required placeholder="کد ملی خود را وارد کنید">
                        </div>
                        <div class="form-group">
                            <label for="password"><i class="fas fa-key"></i> رمز عبور</label>
                            <input type="password" id="password" required placeholder="رمز عبور خود را وارد کنید">
                        </div>
                        <button type="submit" id="login-btn" style="width: 100%;">
                            <span class="btn-text">ورود به سامانه</span>
                        </button>
                        <p id="login-error" style="color: #dc2626; margin-top: 20px; min-height: 20px; font-size: 0.9rem; font-weight: 500;"></p>
                    </form>
                </div>
            </div>
            <div class="login-footer">
                &copy; تمامی حقوق برای موسسه تعالی اندیشه محفوظ است.
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboard-page" class="hidden">
        <div class="container fade-in">
            <!-- Header -->
            <div class="dashboard-header">
                <div class="header-text-container">
                    <div id="header-greeting" class="header-greeting">خوش آمدید</div>
                </div>
                <div class="header-actions">
                    <button id="refresh-btn" class="icon-btn-circle" title="بروزرسانی لیست"><i class="fas fa-sync-alt"></i></button>
                    
                    <div class="user-menu">
                        <button id="user-menu-btn" class="icon-btn-circle"><i class="fas fa-user-tie"></i></button>
                        <div id="user-menu-dropdown" class="user-menu-content hidden">
                            <div style="padding: 15px; background: #f8fafc; border-radius: var(--radius-md); margin-bottom: 8px; border: 1px solid #e2e8f0;">
                                <strong id="menu-user-name" style="display:block; color:var(--primary-dark);">کاربر</strong>
                                <span id="menu-user-nid" style="display:block; font-size:0.8rem; color:var(--text-muted); margin-top:2px;"></span>
                                <div style="margin-top: 8px; padding-top: 8px; border-top: 1px dashed #cbd5e1; font-size: 0.9rem; color: var(--success); font-weight: 700;">
                                    امتیاز کل: <span id="menu-user-score">0</span>
                                </div>
                            </div>
                            <!-- دستور دوم: دکمه تغییر رمز با ID مشخص -->
                            <button id="change-pass-btn" class="menu-item"><i class="fas fa-key" style="margin-left:8px; width:20px;"></i> تغییر رمز عبور</button>
                            <!-- دستور سوم: حذف دکمه افزودن شماره تلفن -->
                            <div style="height:1px; background:#e2e8f0; margin:5px 0;"></div>
                            <button id="logout-btn" class="menu-item" style="color: var(--danger);"><i class="fas fa-sign-out-alt" style="margin-left:8px; width:20px;"></i> خروج</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="dashboard-content">
                <!-- Stat Pills -->
                <div id="summary-dashboard" class="summary-grid">
                    <div class="summary-card">
                        <span class="count" id="stat-inprogress-count">--</span>
                        <span class="label">در جریان</span>
                    </div>
                    <div class="summary-card accepted">
                        <span class="count" id="stat-accepted-count">--</span>
                        <span class="label">پذیرفته شده</span>
                    </div>
                    <div class="summary-card rejected">
                        <span class="count" id="stat-rejected-count">--</span>
                        <span class="label">رد شده</span>
                    </div>
                </div>

                <div class="tabs-nav" id="article-tabs">
                    <button class="tab-item active" data-status-filter="all">همه مقالات</button>
                    <button class="tab-item" data-status-filter="inProgress">در جریان</button>
                    <button class="tab-item" data-status-filter="accepted">پذیرفته شده</button>
                    <button class="tab-item" data-status-filter="rejected">رد شده</button>
                    <button class="tab-item" data-status-filter="drafts">پیش‌نویس</button>
                </div>

                <div style="display: flex; gap: 15px; margin-bottom: 25px; flex-wrap: wrap; align-items: center;">
                    <div style="flex-grow: 1; position: relative;">
                        <input type="text" id="article-search-input" placeholder="جستجو در عنوان، شناسه..." style="padding-left: 40px; border-radius: 8px; border: 1px solid #cbd5e1; height: 45px;">
                        <i class="fas fa-search" style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: #94a3b8;"></i>
                    </div>
                    <button id="add-new-article-btn" class="btn-primary" style="height: 45px;">
                        <i class="fas fa-plus"></i><span class="btn-text">ثبت مقاله جدید</span>
                    </button>
                </div>

                <div id="articles-container"></div>
                <div id="load-more-container" style="text-align: center; margin-top: 30px;"></div>
            </div>
        </div>
    </div>
    <div id="modal-container"></div>
    <script src="script.js"></script>
</body>
</html>